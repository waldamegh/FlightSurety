exports.id=0,exports.modules={"./src/server/server.js":function(e,n,o){"use strict";o.r(n);var t=o("./build/contracts/FlightSuretyApp.json"),r=o("./build/contracts/FlightSuretyData.json"),s=o("./src/server/config.json"),a=o("web3"),l=o.n(a),i=o("express"),u=o.n(i),d=s.localhost,h=new l.a(new l.a.providers.WebsocketProvider(d.url.replace("http","ws")));h.eth.defaultAccount=h.eth.accounts[0];var f=new h.eth.Contract(t.abi,d.appAddress),g=new h.eth.Contract(r.abi,d.dataAddress),p={},m=[0,10,20,30,40,50];console.log("Server App"),h.eth.getAccounts().then(function(e){console.log("Number of aacounts: "+e.length),console.log(e[30]),g.methods.authorizeCaller(d.appAddress).send({from:e[0]}).then(function(e){console.log("Contrct Address ( ".concat(d.appAddress," ) is an authorized contract"))}).catch(function(e){console.log("Error1: "+e)}),console.log("Oracle Registration:"),f.methods.REGISTRATION_FEE().call().then(function(n){console.log("Registration fee: ".concat(n," Wei"));for(var o=0;o<=20;o++)f.methods.registerOracle().send({from:e[20+c],value:h.utils.toWei("1","ether"),gas:3e5},function(e,n){})}).catch(function(e){console.log("Error4:"+e)})}).catch(function(e){console.log("Error5:"+e)}),f.events.OracleRequest({fromBlock:0},function(e,n){var o;e?console.log(e):function(){var e=n.returnValues.index,t=n.returnValues.airline,r=n.returnValues.flight,c=n.returnValues.timestamp;for(o in p)p[o].includes(e)&&function(){var n=m[Math.floor(6*Math.random())];f.methods.submitOracleResponse(e,t,r,c,n).send({from:o,gas:1e6}).then(function(o){console.log("Oracle response: \n            Index: ".concat(e," , \n            Airline: ").concat(t," ,\n            Flight: ").concat(r," ,\n            Timestamp: ").concat(c," ,\n            Status Code: ").concat(n,"\n            "))}).catch(function(e){console.log("Error6:"+e)})}()}()}),f.events.FlightStatusInfo({fromBlock:0},function(e,n){e?console.log(e):console.log("FlightStatusInfo event: \n    Index: ".concat(n.returnValues.index," , \n    Airline: ").concat(n.returnValues.airline," ,\n    Flight: ").concat(n.returnValues.flight," ,\n    Timestamp: ").concat(n.returnValues.timestamp,"\n    "))});var v=u()();v.get("/api",function(e,n){n.send({message:"An API for use with your Dapp!"})}),n.default=v}};